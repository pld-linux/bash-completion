Support rpm (jbj rpm 4.4.7+) hrmib exports for rpm -qa filter (via %_hrmib_path /var/cache/hrmib)

--
Signed-off-by: Elan Ruusam√§e <glen@delfi.ee>

--- bash-completion-1.2/contrib/rpm~	2010-06-13 13:21:19.000000000 +0300
+++ bash-completion-1.2/contrib/rpm	2010-08-09 21:52:51.377872623 +0300
@@ -5,6 +5,12 @@
 
 _rpm_installed_packages()
 {
+    # if rpm (4.4.7+) is configured to export it's rpmdb to /var/cache/hrmib (%_hrmib_path)
+    if [ -d /var/cache/hrmib -a -r /var/cache/hrmib ]; then
+        COMPREPLY=( $( LC_ALL=C command ls -1 /var/cache/hrmib | sed -ne '/^'$cur'/p') )
+        return
+    fi
+
     local nodig="$1" nosig="$2"
 
     if [[ -r /var/log/rpmpkgs && \
